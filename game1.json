{
"meta": {
  "game_id": "sample-escape-001",
  "title": "🎃 Adélčino halloweenské dobrodružství",
  "version": "0.1.0",
  "locale": "cs-CZ",
  "start_page": "p-intro",
  "_note": "Ukázkový průlet všemi typy zámků v jedné hře.",
  "timer": {
    "enabled": true,
    "seconds": 1080,
    "warning_at": 120,
    "show": true,
    "lose_page": "p-timeout"
  },
  "author": {
    "name": "Patrik Vaněk",
    "logo": "https://raw.githubusercontent.com/vanekpa/canvaveskole/refs/heads/main/eg_logo.png",
    "url": "https://unikovkyveskole.cz/",
    "text": "Patrik Vaněk",
    "position": "bottom-left"
        }
    },
  
  "assets": {
    "colors": ["red","orange","yellow","green","blue","purple","pink","brown"],
    "shapes": ["◯","■","▲","★","❤","◆"],
    "shape_svgs": {
    "◯": "<svg viewBox='0 0 80 80'><circle cx='40' cy='40' r='30' fill='#8BD3DD' stroke='#1E293B' stroke-width='6'/></svg>",
    "■": "<svg viewBox='0 0 80 80'><rect x='12' y='12' width='56' height='56' rx='10' fill='#FBBF24' stroke='#1E293B' stroke-width='6'/></svg>",
    "▲": "<svg viewBox='0 0 80 80'><polygon points='40,10 70,70 10,70' fill='#34D399' stroke='#1E293B' stroke-width='6'/></svg>",
    "★": "<svg viewBox='0 0 80 80'><path d='M40 8l9 20 22 3-16 15 4 22-19-10-19 10 4-22L9 31l22-3z' fill='#A78BFA' stroke='#1E293B' stroke-width='6'/></svg>",
    "❤": "<svg viewBox='0 0 80 80'><path d='M40 68C5 45 16 18 34 20c6 1 9 5 6 8 3-3 6-7 12-8 18-2 29 25-12 48z' fill='#FB7185' stroke='#1E293B' stroke-width='6'/></svg>",
    "◆": "<svg viewBox='0 0 80 80'><polygon points='40,6 74,40 40,74 6,40' fill='#60A5FA' stroke='#1E293B' stroke-width='6'/></svg>"
  },
    "arrows": { "up": "U", "down": "D", "left": "L", "right": "R" },

    "keyboards": {
      "numeric": { "layout": "0123456789", "max_len": 6 },
      "alpha": { "layout": "ABCDEFGHIJKLMNOPQRSTUVWXYZ", "max_len": 12 },
      "arrows": { "layout": ["↑","↓","←","→"], "max_len": 8 },
      "colors": { "layout_ref": "colors", "max_len": 8 },
      "shapes": { "layout_ref": "shapes", "max_len": 8 },
      "cryptex": {
        "_note": "Definice koleček kryptexu – každé kolečko má vlastní sadu znaků.",
        "wheels": [
          "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",
          "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",
          "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",
          "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"
        ]
      }
    }
  },

  "pages": [  
    {
      "id": "p-timeout",
      "type": "info",
      "info": {
        "title": "⏰ Čas vypršel",
        "text": "Nevadí! Zkus to znovu – zvládneš to.",
        "badge": "story"
      },
      "ui": {
        "icon": "lose",
        "background_img": "bg/timeout.jpg"
      },
      "next_on_success": "p-intro"
    },
    {
      "id": "p-intro",
      "type": "info",
      "info": {
        "title": "🎃 Adélčino halloweenské dobrodružství",
        "text": "Milí kamarádi, dnes vás čeká překvapení! Přijďte za mnou na zahradu mého domu, kde začíná naše Halloweenské dobrodružství. – Adélka 🕸️",
        "tips": ["Hledej nápovědu v obrázku i textu.", "Zámek se pokaždé objeví dole."],
        "badge": "story"
      },
      "ui": {
        "icon": "story",
        "background_img": "https://raw.githubusercontent.com/vanekpa/HalloweenGame/refs/heads/main/1.png",
        "header_icons": ["i","123","abc","arrows","colors","shapes","cryptex","win"]
      },
      "next_on_success": "p-123-1",
      "_note": "Info stránka nevyžaduje vstup – hra může rovnou zobrazit tlačítko Pokračovat."
    },

        {
      "id": "p-123-1",
      "type": "lock",
      "lock": {
        "mode": "numeric",
        "input": { "keyboard": "numeric", "length": 3 },
        "answer": "465",
        "attempts": 3,
        "hint": "Na zahradě to vypadalo, jako by tu Adélka trénovala kouzla. Každá dýně svítila jiným světlem, netopýři kroužili nad hlavami a kočky se schovávaly pod keři."
      },
      "info": {
        "title": "Číselný zámek",
        "story": "Na dortu napočítej svíčky a přičti 2000. (nebo prostě zadej rok 2025 v demu 🙂)"
      },
      "ui": { "background_img": "https://raw.githubusercontent.com/vanekpa/HalloweenGame/refs/heads/main/1.png", "icon": "123" },
      "next_on_success": "p-ABC-2",
      "next_on_fail": "p-123-1"
    },

     {
      "id": "p-ABC-2",
      "type": "lock",
      "lock": {
        "mode": "text",
        "input": { "keyboard": "alpha", "case_sensitive": false, "placeholder": "Zadej správnoé slovo" },
        "answer": "PARTY",
        "attempts": 3,
        "hint": "Kdo pozná, co mám dneska připraveno, zjistí, proč jsme se vlastně sešli. Děti si začaly všímat drobností kolem sebe… a pomalu jim začínalo docházet, jaké slovo Adélka skrývá."
      },
      "info": {
        "title": "Číselný zámek",
        "story": "Na dortu napočítej svíčky a přičti 2000. (nebo prostě zadej rok 2025 v demu 🙂)"
      },
      "ui": { "background_img": "https://raw.githubusercontent.com/vanekpa/HalloweenGame/refs/heads/main/2.png", "icon": "abc" },
      "next_on_success": "p-SHAPES-3",
      "next_on_fail": "p-ABC-2"
    },

       {
      "id": "p-SHAPES-3",
      "type": "lock",
      "lock": {
        "mode": "shapes",
        "input": { "keyboard": "shapes", "length": 6 },
        "answer": ["★","◆","▲","■","◯","❤"],
        "attempts": 2,
        "hint": "V kuchyni stály řady lahviček s barevnými nápoji. „Každý má rád jinou příchuť,“ zasmála se, „a já jsem namíchala ty nejoblíbenější!“"
      },
      "info": { "title": "", "story": "Vyřešte tuto matematickou hádanku!" },
      "ui": { "background_img": "https://raw.githubusercontent.com/vanekpa/HalloweenGame/refs/heads/main/3.png", "icon": "shapes" },
      "next_on_success": "p-ARROWS-4",
      "next_on_fail": "p-SHAPES-3"
    }, 


    {
      "id": "p-ARROWS-4",
      "type": "lock",
      "lock": {
        "mode": "arrows",
        "input": { "keyboard": "arrows", "length": 5, "show_buttons": true },
        "answer": ["→","↓","→","→","↑"],
        "attempts": 3,
        "hint": "Najednou se z rohu ozvalo písknutí. Dvířka skříně se pootevřela a zevnitř vykoukli pavoučci. Pomůžete Adélce vymést je ven? Začňete pod kloboukem."
      },
      "info": {
        "title": "",
        "story": "Začni hezky ve směru zametání."
      },
      "ui": { "background_img": "https://raw.githubusercontent.com/vanekpa/HalloweenGame/refs/heads/main/4.png", "icon": "arrows" },
      "next_on_success": "p-COLORS-5",
      "next_on_fail": "p-ARROWS-4"
    },

    {
      "id": "p-COLORS-5",
      "type": "lock",
      "lock": {
        "mode": "colors",
        "input": { "keyboard": "colors", "length": 5, "show_names": false },
        "answer": ["green","red","orange","purple","blue"],
        "attempts": 2,
        "hint": "Z hudebního pokoje se ozvala veselá melodie. Podlaha se změnila v pestrobarevný parket, který jemně svítil pod každým krokem. „Každá barva má své kouzlo,“ mrkla Adélka."
      },
      "info": {
        "title": "Barevný zámek",
        "story": "Zadej pořadí barev, které vidíš."
      },
      "ui": { "background_img": "https://raw.githubusercontent.com/vanekpa/HalloweenGame/refs/heads/main/5.png", "icon": "colors" },
      "next_on_success": "p-CRYPTEX-6",
      "next_on_fail": "p-COLORS-5"
    },

    {
      "id": "p-CRYPTEX-6",
      "type": "lock",
      "lock": {
        "mode": "cryptex",
        "input": { "wheels_ref": "cryptex", "length": 4 },
        "answer": ["A","R","T","Y"],
        "attempts": 5,
        "hint": "Slovo souvisí s narozeninovou ‚p…‘ (party). První písmeno je A kvůli sadám na kolečkách."
      },
      "info": {
        "title": "Kryptex",
        "story": "Nastav správné písmeno na každém kolečku."
      },
      "ui": { "background_img": "https://i.imgur.com/D1v8yzR.png", "icon": "cryptex" },
      "next_on_success": "p-WIN",
      "next_on_fail": "p-CRYPTEX-6"
    },

    {
      "id": "p-win",
      "type": "info",
      "info": {
        "title": "Vyhráno! 🎉",
        "text": "Všechny zámky jsou otevřené. Paráda!",
        "reward": { "type": "badge", "label": "Master of Locks" }
      },
      "ui": {
        "background_img": "https://raw.githubusercontent.com/vanekpa/HalloweenGame/refs/heads/main/8.png",
        "fx": ["confetti","sparkle"],
        "icon": "win"
      },
      "next_on_success": null
    }
  ]
}
