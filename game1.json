{
  "meta": {
    "game_id": "sample-escape-001",
    "title": "Witty's / Keyla Demo",
    "version": "0.1.0",
    "locale": "cs-CZ",
    "start_page": "p-intro",
    "_note": "Uk√°zkov√Ω pr≈Ølet v≈°emi typy z√°mk≈Ø v jedn√© h≈ôe."
  },

  "assets": {
    "colors": ["red", "blue", "green", "yellow", "purple", "orange"],
    "shapes": ["circle", "square", "triangle", "star", "heart", "diamond"],
    "arrows": { "up": "U", "down": "D", "left": "L", "right": "R" },

    "keyboards": {
      "numeric": { "layout": "0123456789", "max_len": 6 },
      "alpha": { "layout": "ABCDEFGHIJKLMNOPQRSTUVWXYZ", "max_len": 12 },
      "arrows": { "layout": ["U","D","L","R"], "max_len": 8 },
      "colors": { "layout_ref": "colors", "max_len": 8 },
      "shapes": { "layout_ref": "shapes", "max_len": 8 },
      "cryptex": {
        "_note": "Definice koleƒçek kryptexu ‚Äì ka≈æd√© koleƒçko m√° vlastn√≠ sadu znak≈Ø.",
        "wheels": [
          "ABCDEFGH",
          "NOPQRSTU",
          "VWXYZ012",
          "3456789*"
        ]
      }
    }
  },

  "pages": [
    {
      "id": "p-intro",
      "type": "info",
      "info": {
        "title": "V√≠tej!",
        "text": "V t√©to uk√°zce si vyzkou≈°√≠≈° r≈Øzn√© typy z√°mk≈Ø. Postupuj podle ikon naho≈ôe a odemykej dal≈°√≠ m√≠stnosti.",
        "tips": ["Hledej n√°povƒõdu v obr√°zku i textu.", "Z√°mek se poka≈æd√© objev√≠ dole."],
        "badge": "story"
      },
      "ui": {
        "background_img": "https://cdn.pixabay.com/photo/2024/03/27/20/30/ai-generated-8659888_1280.jpg",
        "header_icons": ["story","abc","123","arrows","colors","shapes","cryptex","win"]
      },
      "next_on_success": "p-abc",
      "_note": "Info str√°nka nevy≈æaduje vstup ‚Äì hra m≈Ø≈æe rovnou zobrazit tlaƒç√≠tko Pokraƒçovat."
    },

    {
      "id": "p-abc",
      "type": "lock",
      "lock": {
        "mode": "text",
        "input": { "keyboard": "alpha", "case_sensitive": false, "placeholder": "Zadej slovo" },
        "answer": "CAKE",
        "attempts": 0,
        "hint": "Keyla m√° r√°da narozeninov√Ω dort. (anglicky)"
      },
      "info": {
        "title": "Textov√Ω z√°mek (ABC)",
        "story": "‚ÄûHappy Birthday to Keyla! Jej√≠ obl√≠ben√° ƒç√°st oslavy je ______.‚Äú"
      },
      "ui": {
        "background_imgs": [
          "https://media.istockphoto.com/id/472336288/cs/fotografie/zaost%C5%99en%C3%A9-pozad%C3%AD-office-open-corridor.jpg?s=1024x1024&w=is&k=20&c=7Gyk6lWQ2KEFuT5sUOWob1XtgUKhh2NbUIUlqyOyTbY=",
          "https://i.imgur.com/Dlai2Ni.png",
          "https://i.imgur.com/MkKQ8wg.png"
        ],
        "icon": "abc"
      },
      "next_on_success": "p-123",
      "next_on_fail": "p-abc"
    },

    {
      "id": "p-123",
      "type": "lock",
      "lock": {
        "mode": "numeric",
        "input": { "keyboard": "numeric", "length": 4 },
        "answer": "2025",
        "attempts": 3,
        "hint": "Rok, kdy tato uk√°zka vznikla."
      },
      "info": {
        "title": "ƒå√≠seln√Ω z√°mek (123)",
        "story": "Na dortu napoƒç√≠tej sv√≠ƒçky a p≈ôiƒçti 2000. (nebo prostƒõ zadej rok 2025 v demu üôÇ)"
      },
      "ui": { "background_img": "https://www.vyletnik.cz/wp-content/uploads/2024/04/detska-oslava.png", "icon": "123" },
      "next_on_success": "p-arrows",
      "next_on_fail": "p-123"
    },

    {
      "id": "p-arrows",
      "type": "lock",
      "lock": {
        "mode": "arrows",
        "input": { "keyboard": "arrows", "length": 5, "show_buttons": true },
        "answer": ["U","D","D","L","R"],
        "attempts": 0,
        "hint": "Pod√≠vej se na po≈ôad√≠ dekorac√≠: bal√≥nky (naho≈ôe), kel√≠mky (dole), p√≠sek (dole), houpaƒçka (vlevo), skluzavka (vpravo)."
      },
      "info": {
        "title": "Smƒõrov√Ω z√°mek",
        "story": "Projdi h≈ôi≈°tƒõm ve spr√°vn√©m smƒõru."
      },
      "ui": { "background_img": "bg/playground_list.jpg", "icon": "arrows" },
      "next_on_success": "p-colors",
      "next_on_fail": "p-arrows"
    },

    {
      "id": "p-colors",
      "type": "lock",
      "lock": {
        "mode": "colors",
        "input": { "keyboard": "colors", "length": 4, "show_names": true },
        "answer": ["purple","yellow","blue","green"],
        "attempts": 0,
        "hint": "Pod√≠vej se na barvy sv√≠ƒçek zleva doprava."
      },
      "info": {
        "title": "Barevn√Ω z√°mek",
        "story": "Zadej po≈ôad√≠ barev, kter√© vid√≠≈°."
      },
      "ui": { "background_img": "bg/candles_banner.jpg", "icon": "colors" },
      "next_on_success": "p-shapes",
      "next_on_fail": "p-colors"
    },

    {
      "id": "p-shapes",
      "type": "lock",
      "lock": {
        "mode": "shapes",
        "input": { "keyboard": "shapes", "length": 3 },
        "answer": ["triangle","circle","square"],
        "attempts": 0,
        "hint": "Geometrick√© vlajeƒçky: ≈°piƒçat√°, kulat√°, hranat√°."
      },
      "info": { "title": "Z√°mek s tvary", "story": "Pod√≠vej se na vlajeƒçky u stolu s dortem." },
      "ui": { "background_img": "bg/party_tent.jpg", "icon": "shapes" },
      "next_on_success": "p-cryptex",
      "next_on_fail": "p-shapes"
    },

    {
      "id": "p-cryptex",
      "type": "lock",
      "lock": {
        "mode": "cryptex",
        "input": { "wheels_ref": "cryptex", "length": 4 },
        "answer": ["A","R","T","Y"],
        "attempts": 5,
        "hint": "Slovo souvis√≠ s narozeninovou ‚Äöp‚Ä¶‚Äò (party). Prvn√≠ p√≠smeno je A kv≈Øli sad√°m na koleƒçk√°ch."
      },
      "info": {
        "title": "Kryptex",
        "story": "Nastav spr√°vn√© p√≠smeno na ka≈æd√©m koleƒçku."
      },
      "ui": { "background_img": "bg/cryptex_dark.jpg", "icon": "cryptex" },
      "next_on_success": "p-win",
      "next_on_fail": "p-cryptex"
    },

    {
      "id": "p-win",
      "type": "info",
      "info": {
        "title": "Vyhr√°no! üéâ",
        "text": "V≈°echny z√°mky jsou otev≈ôen√©. Par√°da!",
        "reward": { "type": "badge", "label": "Master of Locks" }
      },
      "ui": {
        "background_img": "bg/party_group.jpg",
        "fx": ["confetti","sparkle"],
        "icon": "win"
      },
      "next_on_success": null
    }
  ]
}
